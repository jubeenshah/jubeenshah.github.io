<!DOCTYPE html>
<!--  Project Odyssey By Jubeen Shah  -->
<!--  Last Published: Wed Jun 10 2020 14:16:35 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5ecd106c3b6aba0b42368fa7" data-wf-site="5ebb15d7d3e3c0f73dbdc91c" lang="en">
<head>
  <meta charset="utf-8">
  <title>Cosmos: Connected Switches</title>
  <meta content="Cosmos: Connected Switch is a module that ties together several modules that have been previously mentioned. Moving away from the norm of just gathering data from the environment, this module provides a way to interact with the environment. The central idea is to allow for a way to bring both manual and automatic state management of devices. The user can manage the state of the connected devices from anywhere in the world, as long as the user is connected to the internet.  This module begins to close the loop which the project started by incorporating functionalities to allow automatic state management of switches, when it receives MQTT messages from other devices." name="description">
  <meta content="Cosmos: Connected Switches" property="og:title">
  <meta content="Cosmos: Connected Switch is a module that ties together several modules that have been previously mentioned. Moving away from the norm of just gathering data from the environment, this module provides a way to interact with the environment. The central idea is to allow for a way to bring both manual and automatic state management of devices. The user can manage the state of the connected devices from anywhere in the world, as long as the user is connected to the internet.  This module begins to close the loop which the project started by incorporating functionalities to allow automatic state management of switches, when it receives MQTT messages from other devices." property="og:description">
  <meta content="Cosmos: Connected Switches" property="twitter:title">
  <meta content="Cosmos: Connected Switch is a module that ties together several modules that have been previously mentioned. Moving away from the norm of just gathering data from the environment, this module provides a way to interact with the environment. The central idea is to allow for a way to bring both manual and automatic state management of devices. The user can manage the state of the connected devices from anywhere in the world, as long as the user is connected to the internet.  This module begins to close the loop which the project started by incorporating functionalities to allow automatic state management of switches, when it receives MQTT messages from other devices." property="twitter:description">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../../../../css/normalize.css" rel="stylesheet" type="text/css">
  <link href="../../../../css/webflow.css" rel="stylesheet" type="text/css">
  <link href="../../../../css/project-odyssey-b2aedc.webflow.css" rel="stylesheet" type="text/css">
  <script src="https://use.typekit.net/fxz6uvb.js" type="text/javascript"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="https://project-odyssey.s3.us-east-2.amazonaws.com/914719ebf2dd787ecceb7cd70964218d.jpg" rel="shortcut icon" type="image/x-icon">
  <link href="https://project-odyssey.s3.us-east-2.amazonaws.com/876fab8172f70d0be2a82c006e856b53.jpg" rel="apple-touch-icon">
  <!--  Global site tag (gtag.js) - Google Analytics  -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-167957177-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-167957177-1');
</script>
  <link href="../../../../custom-js/odyssey.css" rel="stylesheet" type="text/css">
</head>
<body class="general-page disable-select">
  <div data-collapse="medium" data-animation="default" data-duration="400" role="banner" class="navbar navbar-2 w-nav">
    <div class="container-3 w-container"><a href="../../../../index.html" class="w-nav-brand"><img src="https://project-odyssey.s3.us-east-2.amazonaws.com/d130db536435d20d7579fafb511ca245.svg" width="40" alt="banner icon for Jubeen Shah" class="banner"></a>
      <nav role="navigation" class="nav-menu w-nav-menu"><a href="../../../../index.html" class="nav-link w-nav-link">Home</a>
        <div data-hover="1" data-delay="0" class="w-dropdown">
          <div class="nav-link w-dropdown-toggle">
            <div class="w-icon-dropdown-toggle"></div>
            <div>Projects</div>
          </div>
          <nav class="nav-list-dropdown w-dropdown-list"><a href="../../../../projects/security.html" class="nav-list-dropdown-item w-dropdown-link">Security</a><a href="../../../../projects/devops.html" class="nav-list-dropdown-item w-dropdown-link">DevOps</a><a href="../../../../projects/iot.html" class="nav-list-dropdown-item bottom-item w-dropdown-link">Internet of Things</a></nav>
        </div><a href="mailto:jnshah2@ncsu.edu" class="nav-link w-nav-link">Contact</a><a href="../../../../privacy.html" class="nav-link w-nav-link">Privacy</a></nav>
      <div class="menu-button w-nav-button">
        <div class="w-icon-nav-menu"></div>
      </div>
    </div>
  </div>
  <div class="generic-page-section">
    <div class="generic-bread-crumb"><a href="../../../../index.html" class="breadcrumb-link left">Home</a>
      <h5 class="breadcrumb-seperator">/</h5><a href="../../../../projects.html" class="breadcrumb-link other">Projects</a>
      <h5 class="breadcrumb-seperator">/</h5><a href="../../../../projects/iot.html" class="breadcrumb-link other">IoT</a>
      <h5 class="breadcrumb-seperator">/</h5><a href="../../../../projects/iot/cosmos.html" class="breadcrumb-link other">Cosmos</a>
      <h5 class="breadcrumb-seperator">/</h5><a href="../../../../projects/iot/cosmos/modules.html" class="breadcrumb-link other">Modules</a>
      <h5 class="breadcrumb-seperator">/</h5><a href="../../../../projects/iot/cosmos/modules/connected-switches.html" aria-current="page" class="breadcrumb-link other w--current">Connected Switch</a></div>
    <div class="flex-box-general-100vh generic-project-page">
      <div class="generic-content-div-block left-content-div-block-indv-project">
        <div class="projects-generic-header-div">
          <h2 class="projects-generic-side-header">Content</h2>
        </div>
        <div class="table-of-contents-div"><a href="#Connected-Switch" class="generic-project-sidebar-list-item-all-items">Connected Switch</a><a href="#demo" class="generic-project-sidebar-list-item-all-items">Demo Video</a><a href="#block-diagram" class="generic-project-sidebar-list-item-all-items">Block Diagram</a><a href="#overview" class="generic-project-sidebar-list-item-all-items">Technical Overview</a><a href="#flowchart" class="generic-project-sidebar-list-item-all-items sub-item">Flowchart</a><a href="#third-party" class="generic-project-sidebar-list-item-all-items">Third Party Integration</a><a href="#amazon-alexia" class="generic-project-sidebar-list-item-all-items sub-item">Alexa</a><a href="#apple-siri" class="generic-project-sidebar-list-item-all-items sub-item">Siri</a><a href="#final-product" class="generic-project-sidebar-list-item-all-items">Final Product</a></div>
      </div>
      <div class="generic-project-content-div">
        <div class="generic-project-flex-box devops">
          <div class="generic-project-header-div cosmos">
            <h1 id="Connected-Switch" class="generic-project-heading-one iot non-padding">Connected Switch</h1>
          </div>
          <div class="generic-project-heading-two-div-block">
            <h2 id="demo" class="generic-project-heading-two iot">Demo Video</h2>
            <div style="padding-top:56.17021276595745%" class="w-video w-embed"><iframe class="embedly-embed" src="https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FpNeB2d3rCis%3Ffeature%3Doembed&display_name=YouTube&url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DpNeB2d3rCis&image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FpNeB2d3rCis%2Fhqdefault.jpg&key=96f1f04c5f4143bcb0f2e68c87d65feb&type=text%2Fhtml&schema=youtube" scrolling="no" title="YouTube embed" frameborder="0" allow="autoplay; fullscreen" allowfullscreen="true"></iframe></div>
          </div>
          <div class="generic-project-heading-two-div-block">
            <h2 id="block-diagram" class="generic-project-heading-two iot">Functional Block Diagram</h2>
            <div class="generic-project-heading-two-div-block">
              <div class="generic-project-paragraph-div">
                <p class="generic-project-paragraph-element project-content">The Figure below shows the functional block diagram of CCS. The device contains four separate major components — ESP8266 12E wifi module, the 5V power supply module, PC 817 Optocoupler, and a bipolar transistor. The optocoupler is used for optical isolation of the circuit to prevent probable damage from the high voltage side of the relay. The NPN transistor is used for switching the voltage from the ESP8266 to the relay. To the end of the relays, would be connected the high voltage devices such as fans, lights, air conditioners etc. The switches’ states can be manually managed by User Managed End-Points, or can be triggered by other connected end-points</p>
                <div class="generic-project-image-wide-div-block center-align"><img src="https://project-odyssey.s3.us-east-2.amazonaws.com/793d97ef903ad7fc321b1329527b0a14.png" alt="Cosmos: Fire Sensor Functional Block Diagram" srcset="https://project-odyssey.s3.us-east-2.amazonaws.com/2975e95c0675d18b24bd96e9f64d6ff3.png 500w, https://project-odyssey.s3.us-east-2.amazonaws.com/8056f9263459e28997c4024405f5f535.png 800w, https://project-odyssey.s3.us-east-2.amazonaws.com/793d97ef903ad7fc321b1329527b0a14.png 1593w" sizes="(max-width: 479px) 83vw, (max-width: 767px) 71vw, (max-width: 991px) 65vw, 49vw" class="generic-project-image-element limit-size-75"></div>
              </div>
            </div>
          </div>
          <div class="generic-project-heading-two-div-block">
            <h2 id="overview" class="generic-project-heading-two iot">Technical Overview</h2>
            <div class="generic-project-heading-two-div-block">
              <h3 id="flowchart" class="generic-project-heading-two iot">Flowchart</h3>
              <div class="generic-project-paragraph-div">
                <p class="generic-project-paragraph-element project-content">The Cosmos: Connected Switches (CCS) initially boots up and repeatedly tries to connect with the MQTT broker, RPi3, till a successful connection is established. Once the link is confirmed, the RPi3 would publish the initial state of CCS. The CCS, then waits for a message from the broker, which would indicate the action that it has to perform. For instance, consider the following message being sent by the broker to the CCS module —`C1ON` as mesgRecvd, which translates to a turning on switch 1. The mesgRecvd is stored as a string, and compared using simple if-else conditions stored on the ESP8266 module. This mesgSent value is checked, if it is the same as the previous message sent, to prevent redundant message transfer. <br><br>Once any one of the conditional statements return a true value, the ESP8266 would send an active high signal to the corresponding pin which is predefined in the schematic. This in turn would result in the relay to be activated, allowing the live wire to be in contact with the commonly closed pin, to complete the circuit.</p>
                <div class="generic-project-image-wide-div-block center-align"><img src="https://project-odyssey.s3.us-east-2.amazonaws.com/b6c3968998caf834b12ec89f785157bd.png" alt="Cosmos: Fire Sensor Flow Chart" srcset="https://project-odyssey.s3.us-east-2.amazonaws.com/ee6deec46608c8f121dd642b080374e8.png 500w, https://project-odyssey.s3.us-east-2.amazonaws.com/fa0fcc96e5e4fcce7191e5e98071b398.png 800w, https://project-odyssey.s3.us-east-2.amazonaws.com/3fe69fd0f917ede2d624e8c71cbb1be8.png 1080w, https://project-odyssey.s3.us-east-2.amazonaws.com/b6c3968998caf834b12ec89f785157bd.png 1532w" sizes="(max-width: 479px) 83vw, (max-width: 767px) 95vw, 65vw" class="generic-project-image-element"></div>
              </div>
            </div>
          </div>
          <div class="generic-project-heading-two-div-block">
            <h2 id="third-party" class="generic-project-heading-two iot">Third Party Integration</h2>
            <div class="generic-project-heading-two-div-block">
              <h2 id="amazon-alexia" class="generic-project-heading-two iot">Alexa</h2>
              <div class="generic-project-paragraph-div">
                <p class="generic-project-paragraph-element project-content">In the initial scope of the project, it was indicated that voice commands would be integrated into COSMOS. Using standard API calls as defined by Amazon for Amazon echo, simple commands like, “Turn on Switch 1”, “Turn off Switch 2”, can be used to trigger events without using either the phone or a web user interface. Please note that the name of the device, is easily customizable, and can be sent to something generic such as “Lights”, or something more specific like “Desk Lights”.</p>
              </div>
            </div>
            <div class="generic-project-heading-two-div-block">
              <h3 id="apple-siri" class="generic-project-heading-two iot">Siri</h3>
              <div class="generic-project-paragraph-div">
                <p class="generic-project-paragraph-element project-content">Since, the mobile operating system platform chosen for development was iOS, integration of Apple’s voice assistant was taken into consideration. Making use of the HomeKit library, integration with the native ‘Home’ app on iPhone was carried out to allow for a more flexible approach for state management of the COSMOS: Connected switches. This allows for easy voice based commands to be executed from any apple device – iPhone, iPad, HomePod, and Apple Watch. Simply saying “Hey Siri, Turn on Switch 1” or “Hey Siri, Turn off Switch 2” can be used to trigger events. Please note that the name of the device, is easily customizable, and can be sent to something generic such as “Lights”, or something more specific like “Desk Lights”.</p>
              </div>
            </div>
          </div>
          <div class="generic-project-heading-two-div-block">
            <div class="generic-project-heading-two-div-block">
              <h3 id="final-product" class="generic-project-heading-two iot">Final Product</h3>
              <div class="generic-project-image-wide-div-block center-align"><img src="https://project-odyssey.s3.us-east-2.amazonaws.com/6e2f522020f46a07cb072ce2dfcccc2c.jpg" alt="Cosmos: Fire Sensor Flow Chart" class="generic-project-image-element limit-size-50"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="generic-content-div-block right-content-div-block-indv-proj">
        <div class="projects-generic-header-div">
          <h2 class="projects-generic-side-header right-end-project-individual">Related Pages</h2>
        </div>
        <div class="table-of-contents-div"><a href="../../../../projects/iot/cosmos.html" class="generic-project-sidebar-list-item-all-items right-end">Summary</a><a href="../../../../projects/iot/cosmos/project-details.html" class="generic-project-sidebar-list-item-all-items right-end">Project Details</a><a href="../../../../projects/iot/cosmos/automation-server.html" class="generic-project-sidebar-list-item-all-items right-end">Automation Server</a><a href="../../../../projects/iot/cosmos/openhab.html" class="generic-project-sidebar-list-item-all-items right-end">OpenHAB</a><a href="../../../../projects/iot/cosmos/modules.html" class="generic-project-sidebar-list-item-all-items right-end">Modules  Details</a><a href="../../../../projects/iot/cosmos/modules/intrusion-sensor.html" class="generic-project-sidebar-list-item-all-items right-end sub-item-right">Intrusion Sensor</a><a href="../../../../projects/iot/cosmos/modules/fire-sensor.html" class="generic-project-sidebar-list-item-all-items right-end sub-item-right">Fire Sensor</a><a href="../../../../projects/iot/cosmos/modules/weather-station.html" class="generic-project-sidebar-list-item-all-items right-end sub-item-right">Weather Station</a><a href="../../../../projects/iot/cosmos/modules/ambient-station.html" class="generic-project-sidebar-list-item-all-items right-end sub-item-right">Ambient Station</a><a href="../../../../projects/iot/cosmos/modules/smart-leds.html" class="generic-project-sidebar-list-item-all-items right-end sub-item-right">Smart LEDs</a><a href="../../../../projects/iot/cosmos/modules/connected-switches.html" aria-current="page" class="generic-project-sidebar-list-item-all-items right-end sub-item-right w--current">Smart Switch</a><a href="../../../../projects/iot/cosmos/modules/smart-lock.html" class="generic-project-sidebar-list-item-all-items right-end sub-item-right">Smart Lock</a></div>
      </div>
    </div>
  </div>
  <div class="navigation-pane">
    <div class="navigation-butttons-div-block">
      <div data-w-id="15a2a8ae-be22-4e35-cca0-0f830650fbef" class="previous-animation-lottie">
        <div data-w-id="15a2a8ae-be22-4e35-cca0-0f830650fbf0" data-animation-type="lottie" data-src="https://uploads-ssl.webflow.com/5ebb15d7d3e3c0f73dbdc91c/5ec9b0d123eec5baa7194c66_previous.json" data-loop="0" data-direction="1" data-autoplay="0" data-is-ix2-target="1" data-renderer="svg" data-default-duration="2.2" data-duration="0" data-ix2-initial-state="30" class="previous-animation"></div><a href="../../../../projects/iot/cosmos/modules/smart-leds.html" class="project-buttons">smart leds</a></div>
      <div data-w-id="15a2a8ae-be22-4e35-cca0-0f830650fbf3" class="next-animation-lottie"><a href="../../../../projects/iot/cosmos/modules/smart-lock.html" class="project-buttons">smart lock</a>
        <div data-w-id="15a2a8ae-be22-4e35-cca0-0f830650fbf6" data-animation-type="lottie" data-src="https://uploads-ssl.webflow.com/5ebb15d7d3e3c0f73dbdc91c/5ec9b318518a6eb2eed68cef_next-button.json" data-loop="1" data-direction="1" data-autoplay="0" data-is-ix2-target="1" data-renderer="svg" data-default-duration="2" data-duration="0" data-ix2-initial-state="30" class="next-animation"></div>
      </div>
    </div>
  </div>
  <div class="footer-section">
    <div class="footer div-block-24">
      <div class="section-2 section--footer">
        <div class="footer__inner-container">
          <div class="footer__title">Home</div><a href="../../../../index.html" class="footer__links">About</a><a href="mailto:jnshah2@ncsu.edu" class="footer__links">Contact</a><a href="../../../../privacy.html" class="footer__links">Privacy</a></div>
        <div class="footer__inner-container">
          <div class="footer__title">Education</div><a href="../../../../education/formal.html" class="footer__links">Formal</a><a href="../../../../education/certifications.html" class="footer__links">Certification</a><a href="../../../../education/pursuing.html" class="footer__links">Pursuing</a></div>
        <div class="footer__inner-container">
          <div class="footer__title">Projects</div><a href="../../../../projects/security.html" class="footer__links">Security</a><a href="../../../../projects/devops.html" class="footer__links">DevOps</a><a href="../../../../projects/iot.html" class="footer__links">Internet of Things</a></div>
        <div class="footer__inner-container">
          <div class="footer__title">Resources</div><a href="https://project-odyssey.s3.us-east-2.amazonaws.com/Odyssey-Resources/Resume/JubeenShah-Resume.pdf" target="_blank" class="footer__links">Resumé</a></div>
        <div id="w-node-bcd1e5970ea1-e5970e8a" class="footer__inner-container footer__inner-container--cmf"><a href="../../../../index.html" target="_blank" class="js-banner-link w-inline-block"><img src="https://project-odyssey.s3.us-east-2.amazonaws.com/d130db536435d20d7579fafb511ca245.svg" alt="banner icon for Jubeen Shah" class="footer__image lazyload"></a>
          <div class="footer__links non-link">Passionately curious about technology</div>
        </div>
      </div>
      <div class="footer__bottom">
        <div class="footer__bottom-text">Project Odyssey - © All rights reserved. 2020 Jubeen Shah</div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js?site=5ebb15d7d3e3c0f73dbdc91c" type="text/javascript" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script src="../../../../js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>